<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body class="bg-primary-subtle">
    <div class="container ">
                
        <div class="row ">

            <div class="col bg-white p-4 mt-5 rounded">
                
                    <h1 class="text-dark text-center">Signup</h1><br>

                    <form >
                        <div class="form-floating">
                            <input type="text" name="name" id="name" required class="form-control" placeholder="m">
                            <label for="name" class="form-label">Name:</label><br>
                        </div>
                        <div class="form-floating">
                            <input type="email" name="email" id="email" required class="form-control" placeholder="m" >
                            <label for="email" class="form-label">Email:</label><br>
                        </div>
                        <div class="form-floating">
                            <input type="password" name="password" id="password" required class="form-control" placeholder="m">
                            <label for="password" class="form-label">Password:</label><br>
                        </div>
                        
                        
                        <button class="btn btn-success" type="submit" id="submit" >Signup</button>
                        
                    </form><br>
    
                    <a id="msg" class="text-danger"></a><br>
                    <a href="Login.html">Already have an Account !</a>

            </div>
        </div>
    </div>
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"> </script>
    <script>
        const name = document.querySelector("#name");
        const email = document.querySelector("#email");
        const password = document.querySelector("#password");
        const msg = document.querySelector("#msg");
        const submit = document.querySelector("#submit");

        submit.addEventListener('click',async ()=>{
            event.preventDefault();
            const obj = {'name':name.value,'email':email.value,'password':password.value};
            try{
                const res = await axios.post("http://54.236.200.99:3000/user/signupUser",obj);
                
                if(res.data){
                    msg.textContent='Success';
                }else{
                    msg.textContent='User already exist!';
                }
                
            }
            catch(err){console.log(err)};

        });

    </script>
</body>
</html>